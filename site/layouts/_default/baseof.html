<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ .Title }} | HANDOZ OS</title>
  
  <style>
    /* =========================================
       1. å…¨å±€èƒŒæ™¯
       ========================================= */
    body {
      margin: 0; padding: 0;
      font-family: "Lucida Grande", "Lucida Sans Unicode", Tahoma, sans-serif;
      /* é…åˆè¿™å¼ å›¾çš„å†·å³»æ„Ÿï¼ŒèƒŒæ™¯ç”¨çº¯æ·±é»‘ */
      background-color: #080808;
      height: 100vh; width: 100vw;
      display: flex; justify-content: center; align-items: center;
      overflow: hidden;
    }

    /* =========================================
       2. ä¸»å®¹å™¨ (å·²æ”¾å¤§å°ºå¯¸)
       ========================================= */
    .main-container {
      position: relative;
      /* ã€æ”¹åŠ¨ç‚¹ 1ï¼šæ”¾å¤§æ˜¾ç¤ºå™¨ã€‘ */
      /* æˆ‘ä»¬è®©å®½åº¦å’Œé«˜åº¦éƒ½å°½é‡æ’‘æ»¡å±å¹•ï¼ŒåŒæ—¶ä¿æŒ4:3æ¯”ä¾‹ */
      width: 98vw;  /* å®½åº¦å‡ ä¹å æ»¡ */
      height: 98vh; /* é«˜åº¦å‡ ä¹å æ»¡ */
      max-width: 1400px; /* è®¾ç½®ä¸€ä¸ªæœ€å¤§ä¸Šé™ï¼Œé˜²æ­¢è¶…å®½å±å¤ªç¦»è°± */
      aspect-ratio: 4 / 3; 
      
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* =========================================
       3. æ˜¾ç¤ºå™¨å¤–å£³ (æœ€ä¸Šå±‚é®ç½©)
       ========================================= */
    .monitor-overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: contain;
      z-index: 20; /* åœ¨æœ€ä¸Šå±‚ */
      pointer-events: none; /* é¼ æ ‡ç©¿é€ */
      /* ç»™æ˜¾ç¤ºå™¨åŠ ä¸€ç‚¹ç‚¹ç¯å¢ƒå…‰æŠ•å½±ï¼Œæ›´çœŸå® */
      filter: drop-shadow(0 10px 20px rgba(0,0,0,0.8));
    }

    /* =========================================
       4. å±å¹•å†…å®¹åŒºåŸŸ (é’ˆå¯¹æ–°å›¾çš„ç²¾å‡†æ ¡å‡†)
       ========================================= */
    .screen-content {
      position: absolute;
      z-index: 10; /* åœ¨é®ç½©ä¸‹é¢ */
      background-color: #000;
      overflow: hidden;
      
      /* âš ï¸âš ï¸âš ï¸ ã€æ”¹åŠ¨ç‚¹ 2ï¼šé’ˆå¯¹ä½ è¿™å¼ å›¾çš„æ ¡å‡†å‚æ•°ã€‘ âš ï¸âš ï¸âš ï¸
         æˆ‘å·²ç»æ ¹æ®å›¾ç‰‡è‚‰çœ¼é¢„ä¼°äº†è¿™äº›æ•°å€¼ã€‚
         å¦‚æœåˆ·æ–°åå‘ç°è¾¹ç¼˜è¿˜æœ‰é»‘è¾¹æˆ–è¢«åˆ‡æ‰äº†ï¼Œè¯·å¾®è°ƒè¿™å››ä¸ªæ•°å­—ã€‚*/
      top: 9%;       /* ä¸Šè¾¹æ¡†åšåº¦ */
      left: 7.5%;    /* å·¦è¾¹æ¡†åšåº¦ */
      width: 85%;    /* å±å¹•æ˜¾ç¤ºå®½åº¦ */
      height: 78%;   /* å±å¹•æ˜¾ç¤ºé«˜åº¦ (åº•éƒ¨ä¸‹å·´æ¯”è¾ƒåš) */
      
      /* ç¨å¾®åŠ ä¸€ç‚¹åœ†è§’ï¼Œé…åˆCRTå±å¹•çš„å¼§åº¦ */
      border-radius: 3% / 4%;
      
      /* åŠ è½½å£çº¸ */
      background-image: url('/img/wallpaper.jpg');
      background-size: cover;
      background-position: right bottom;

      /* å†…å‘å…‰ */
      box-shadow: inset 0 0 40px rgba(0,0,0,0.8);
    }
    
    /* CRT æ‰«æçº¿çº¹ç†å±‚ (ç¨å¾®è°ƒæ·¡äº†ä¸€ç‚¹ï¼Œé…åˆè¿™å¼ å›¾çš„å¹²å‡€æ„Ÿ) */
    .screen-content::after {
      content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: repeating-linear-gradient(0deg, rgba(255,255,255,0.03) 0px, rgba(255,255,255,0.03) 1px, transparent 1px, transparent 3px);
      pointer-events: none; z-index: 30;
      mix-blend-mode: overlay;
    }

    /* =========================================
       5. åŸæœ‰ Mac ç³»ç»Ÿå…ƒç´ çš„é€‚é… (ä¿æŒä¸å˜)
       ========================================= */
    .mac-menubar {
      position: absolute; top: 0; left: 0; width: 100%; height: 24px;
      background: linear-gradient(to bottom, #ffffff 0%, #eeeeee 100%);
      border-bottom: 1px solid #999;
      display: flex; justify-content: space-between; align-items: center;
      padding: 0 8px; font-size: 11px; user-select: none; z-index: 40;
    }
    .menubar-left { display: flex; gap: 8px; }
    .apple-logo { font-size: 13px; }

    .desktop-area {
      margin-top: 24px;
      height: calc(100% - 24px);
      position: relative;
      z-index: 35;
    }

    .mac-dock-container {
      position: absolute; bottom: 0; left: 50%;
      transform: translateX(-50%) scale(0.85);
      background: rgba(255, 255, 255, 0.25);
      border: 1px solid rgba(255, 255, 255, 0.4);
      border-bottom: none; border-radius: 8px 8px 0 0;
      padding: 6px 12px 0 12px;
      display: flex; gap: 6px; align-items: flex-end;
      z-index: 50;
      -webkit-box-reflect: below 0px linear-gradient(transparent, transparent 60%, rgba(255,255,255,0.2));
    }
    .dock-icon {
      width: 48px; height: 48px; font-size: 24px;
      background: linear-gradient(to bottom, rgba(255,255,255,0.8), rgba(200,200,200,0.8));
      border-radius: 10px; display: flex; justify-content: center; align-items: center;
      transition: transform 0.2s cubic-bezier(0.2, 0.8, 0.2, 1), margin 0.2s;
    }
    .dock-icon:hover { transform: scale(1.5) translateY(-8px); margin: 0 10px; z-index: 100; }
  </style>
</head>
<body>

  <div class="main-container">
    
    <img src="/img/monitor.png" class="monitor-overlay" alt="Retro CRT">

    <div class="screen-content">
      
      <div class="mac-menubar">
        <div class="menubar-left">
          <span class="menubar-item apple-logo">ï£¿</span>
          <span class="menubar-item" style="font-weight:bold;">Finder</span>
          <span>File</span><span>Edit</span><span>View</span><span>Go</span>
        </div>
        <div class="menubar-right">
          <span id="system-clock">12:00 PM</span>
        </div>
      </div>

      <div class="desktop-area">
        {{ block "main" . }}{{ end }}
      </div>

      <div class="mac-dock-container">
        <a href="/" class="dock-icon">ğŸ“</a>
        <a href="/" class="dock-icon">ğŸ“</a>
        <a href="/" class="dock-icon">ğŸ¬</a>
        <a href="/admin/" class="dock-icon">âš™ï¸</a>
        <a href="/" class="dock-icon">ğŸ—‘ï¸</a>
      </div>

    </div>
  </div>

  <script>
    function updateClock() {
      const now = new Date();
      let hours = now.getHours(); let minutes = now.getMinutes(); const ampm = hours >= 12 ? 'PM' : 'AM';
      hours = hours % 12; hours = hours ? hours : 12; minutes = minutes < 10 ? '0' + minutes : minutes;
      document.getElementById('system-clock').innerText = hours + ':' + minutes + ' ' + ampm;
    }
    setInterval(updateClock, 1000); updateClock();
  </script>

</body>
</html>
