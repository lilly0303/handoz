<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ .Title }} | HANDOZ OS</title>
  
  <style>
    /* =========================================
       1. å…¨å±€é‡ç½®ä¸å£çº¸ (Wallpaper)
       ========================================= */
    body {
      margin: 0;
      padding: 0;
      /* ä½¿ç”¨ Mac ç»å…¸çš„ Lucida Grande å­—ä½“ç³»åˆ— */
      font-family: "Lucida Grande", "Lucida Sans Unicode", Tahoma, sans-serif;
      /* é”å®šå±å¹•ï¼Œä¸å…è®¸å‡ºç°ç½‘é¡µåŸç”Ÿçš„ä¸Šä¸‹æ»šåŠ¨æ¡ */
      overflow: hidden; 
      
      /* è¿™é‡Œçš„è·¯å¾„æŒ‡å‘ä½ åˆšæ‰ä¸Šä¼ çš„å›¾ç‰‡ */
      background-image: url('/img/wallpaper.jpg');
      background-size: cover; /* è®©å›¾ç‰‡å®Œç¾é“ºæ»¡æ•´ä¸ªå±å¹• */
      background-position: right bottom;
      background-repeat: no-repeat;
      height: 100vh;
      width: 100vw;
    }

    /* =========================================
       2. é¡¶éƒ¨èœå•æ  (Top Menu Bar)
       ========================================= */
    .mac-menubar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 24px;
      /* Aqua é£æ ¼ç‰¹æœ‰çš„ç™½è‰²å¾®æ¸å˜ä¸é˜´å½± */
      background: linear-gradient(to bottom, #ffffff 0%, #eeeeee 100%);
      border-bottom: 1px solid #999;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
      
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 15px;
      z-index: 9999;
      font-size: 13px;
      user-select: none; /* é˜²æ­¢æ–‡å­—è¢«æ„å¤–é€‰ä¸­ï¼Œå¢å¼ºç³»ç»ŸçœŸå®æ„Ÿ */
    }

    .menubar-left {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .menubar-item {
      color: #000;
      cursor: default;
      padding: 0 6px;
      height: 24px;
      line-height: 24px;
    }

    /* æ¨¡æ‹Ÿé¼ æ ‡æ”¾ä¸Šå»å˜æˆè“è‰²é«˜äº®åŒºå—çš„æ•ˆæœ */
    .menubar-item:hover {
      background: #0058e6; 
      color: white;
      border-radius: 3px;
    }

    /* ç»å…¸è‹¹æœ Logo å’ŒåŠ ç²—çš„å½“å‰åº”ç”¨å */
    .apple-logo { font-size: 15px; font-weight: bold; }
    .app-name { font-weight: bold; }

    /* =========================================
       3. åº•éƒ¨åœé æ  (The Dock)
       ========================================= */
    .mac-dock-container {
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%); /* ä¿è¯å®ƒæ°¸è¿œåœ¨å±å¹•æ­£ä¸­é—´ */
      
      /* åŠé€æ˜çš„ç»ç’ƒæ‰˜ç›˜åº•åº§ */
      background: rgba(255, 255, 255, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.4);
      border-bottom: none;
      border-radius: 8px 8px 0 0;
      padding: 10px 20px 0 20px;
      
      display: flex;
      gap: 10px;
      align-items: flex-end; /* è®©æ‰€æœ‰å›¾æ ‡æ²‰åº•å¯¹é½ */
      z-index: 9990;
    }

    /* å ä½å›¾æ ‡æ ·å¼ */
    .dock-icon {
      width: 64px;          /* ä» 50px æ”¾å¤§ */
      height: 64px;         /* ä» 50px æ”¾å¤§ */
      border-radius: 14px;  /* è®©è¾¹ç¼˜æ›´åœ†æ¶¦ */
      font-size: 32px;      /* è®© Emoji å˜å¤§ */
      /* è¿™é‡Œçš„èƒŒæ™¯è‰²æ˜¯æš‚æ—¶ç”¨æ¥åŒºåˆ†çš„ï¼Œä¹‹åæˆ‘ä»¬ä¼šæ”¾ä¸ŠçœŸå®çš„å›¾ç‰‡ */
      background: linear-gradient(to bottom, rgba(255,255,255,0.8), rgba(200,200,200,0.8));
      border: 1px solid rgba(0,0,0,0.3);
      margin-bottom: 5px;
      
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      
      /* æ ¸å¿ƒäº¤äº’ï¼šMac Dock ç»å…¸çš„é¼ æ ‡æ‚¬åœå˜å¤§æ•ˆæœ */
      transition: transform 0.2s cubic-bezier(0.2, 0.8, 0.2, 1), margin 0.2s;
      
      /* æå…¶é€¼çœŸçš„å€’å½±ç‰¹æ•ˆ (Webkitå†…æ ¸ä¸“å±) */
      -webkit-box-reflect: below 2px linear-gradient(transparent, transparent 50%, rgba(255,255,255,0.3));
    }

    /* å½“é¼ æ ‡æ‚¬åœæ—¶ï¼Œå›¾æ ‡æ”¾å¤§å¹¶ç¨å¾®ä¸Šæµ® */
    .dock-icon:hover {
      transform: scale(1.6) translateY(-10px);
      margin: 0 15px; 
      z-index: 10;
    }

    /* =========================================
       4. æ¡Œé¢æ ¸å¿ƒå†…å®¹åŒº (ä¸ºåç»­çš„ Window é¢„ç•™ä½ç½®)
       ========================================= */
    .desktop-area {
      margin-top: 24px; /* å®Œç¾é¿å¼€é¡¶éƒ¨çš„èœå•æ  */
      height: calc(100vh - 24px);
      position: relative;
    }
  </style>
</head>
<body>

  <div class="mac-menubar">
    <div class="menubar-left">
      <span class="menubar-item apple-logo">ï£¿</span>
      <span class="menubar-item app-name">Finder</span>
      <span class="menubar-item">File</span>
      <span class="menubar-item">Edit</span>
      <span class="menubar-item">View</span>
      <span class="menubar-item">Go</span>
      <span class="menubar-item">Special</span>
      <span class="menubar-item">Help</span>
    </div>
    <div class="menubar-right">
      <span class="menubar-item" id="system-clock">12:00 PM</span>
    </div>
  </div>

  <div class="desktop-area">
    {{ block "main" . }}{{ end }}
  </div>

  <div class="mac-dock-container">
    <a href="/" class="dock-icon" title="Finder">ğŸ“</a>
    <a href="/" class="dock-icon" title="Fiction">ğŸ“</a>
    <a href="/" class="dock-icon" title="Cinema">ğŸ¬</a>
    <a href="/admin/" class="dock-icon" title="Settings">âš™ï¸</a>
    <a href="/" class="dock-icon" title="Trash">ğŸ—‘ï¸</a>
  </div>

  <script>
    function updateClock() {
      const now = new Date();
      let hours = now.getHours();
      let minutes = now.getMinutes();
      const ampm = hours >= 12 ? 'PM' : 'AM';
      hours = hours % 12;
      hours = hours ? hours : 12; 
      minutes = minutes < 10 ? '0' + minutes : minutes;
      document.getElementById('system-clock').innerText = hours + ':' + minutes + ' ' + ampm;
    }
    setInterval(updateClock, 1000);
    updateClock();
  </script>

</body>
</html>
