<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ .Title }} | HANDOZ OS</title>
  
  <style>
    /* =========================================
       1. å…¨å±€ç¯å¢ƒ
       ========================================= */
    body {
      margin: 0; padding: 0;
      font-family: "Lucida Grande", "Lucida Sans Unicode", Tahoma, sans-serif;
      /* å†°è“è‰²æ¸å˜èƒŒæ™¯ */
      background: linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%);
      height: 100vh; width: 100vw;
      display: flex; justify-content: center; align-items: center;
      overflow: hidden;
    }

    /* =========================================
       2. ä¸»å®¹å™¨ (MacBook å®½å±æ¯”ä¾‹)
       ========================================= */
    .main-container {
      position: relative;
      width: 94vw; 
      max-width: 1400px;
      aspect-ratio: 16 / 10; 
      display: flex;
      justify-content: center;
      align-items: center;
      /* ç¯å¢ƒæ‚¬æµ®æŠ•å½± */
     /* filter: drop-shadow(0 25px 40px rgba(0,0,0,0.4));
    }

    /* =========================================
       3. æ˜¾ç¤ºå™¨å¤–å£³
       ========================================= */
    .monitor-overlay {
      position: absolute;
      top: 10; left: 10;
      width: 100%; height: 100%;
      object-fit: contain;
      z-index: 20; 
      pointer-events: none; 
    }

    /* =========================================
       4. å±å¹•å†…å®¹åŒºåŸŸ
       ========================================= */
    .screen-content {
      position: absolute;
      z-index: 10; 
      background-color: #000;
      overflow: hidden;
      
      /* MacBook Air è¾¹æ¡†æ ¡å‡†å‚æ•° */
      top: 12%;    
      left: 17%;   
      width: 68%;  
      height: 65%;   
      border-radius: 4px;
      
      /* âœ… ã€è·¯å¾„å·²è‡ªåŠ¨ä¿®æ”¹ã€‘æŒ‡å‘ /img/ æ–‡ä»¶å¤¹ */
      background-image: url('/img/wallpaper.jpg');
      background-size: cover;
      background-position: right bottom;

      box-shadow: inset 0 0 15px rgba(0,0,0,0.3);
    }
    
    /* å¼±åŒ–ç‰ˆå±å¹•çº¹ç† */
    .screen-content::after {
      content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: repeating-linear-gradient(0deg, rgba(255,255,255,0.02) 0px, rgba(255,255,255,0.02) 1px, transparent 1px, transparent 2px);
      pointer-events: none; z-index: 30;
    }

    /* =========================================
       5. Mac ç³»ç»Ÿå…ƒç´ é€‚é… (ä¸å˜)
       ========================================= */
    .mac-menubar {
      position: absolute; top: 0; left: 0; width: 100%; height: 24px;
      background: linear-gradient(to bottom, #ffffff 0%, #eeeeee 100%);
      border-bottom: 1px solid #999;
      display: flex; justify-content: space-between; align-items: center;
      padding: 0 8px; font-size: 11px; user-select: none; z-index: 40;
    }
    .menubar-left { display: flex; gap: 8px; }
    .apple-logo { font-size: 13px; }

    .desktop-area {
      margin-top: 24px;
      height: calc(100% - 24px);
      position: relative;
      z-index: 35;
    }

    .mac-dock-container {
      position: absolute; bottom: 0; left: 50%;
      transform: translateX(-50%) scale(0.85);
      background: rgba(255, 255, 255, 0.25);
      border: 1px solid rgba(255, 255, 255, 0.4);
      border-bottom: none; border-radius: 8px 8px 0 0;
      padding: 6px 12px 0 12px;
      display: flex; gap: 6px; align-items: flex-end;
      z-index: 50;
      -webkit-box-reflect: below 0px linear-gradient(transparent, transparent 60%, rgba(255,255,255,0.2));
    }
    .dock-icon {
      width: 48px; height: 48px; font-size: 24px;
      background: linear-gradient(to bottom, rgba(255,255,255,0.8), rgba(200,200,200,0.8));
      border-radius: 10px; display: flex; justify-content: center; align-items: center;
      transition: transform 0.2s cubic-bezier(0.2, 0.8, 0.2, 1), margin 0.2s;
    }
    .dock-icon:hover { transform: scale(1.5) translateY(-8px); margin: 0 10px; z-index: 100; }
  </style>
</head>
<body>

  <div class="main-container">
    <img src="/img/monitor4.png" class="monitor-overlay" alt="MacBook">
    
    <div class="screen-content">
      <div class="mac-menubar">
        <div class="menubar-left">
          <span class="menubar-item apple-logo">ï£¿</span>
          <span class="menubar-item" style="font-weight:bold;">Finder</span>
          <span>File</span><span>Edit</span><span>View</span><span>Go</span>
        </div>
        <div class="menubar-right">
          <span id="system-clock">12:00 PM</span>
        </div>
      </div>

      <div class="desktop-area">
        {{ block "main" . }}{{ end }}
      </div>

      <div class="mac-dock-container">
        <a href="/" class="dock-icon">ğŸ“</a>
        <a href="/" class="dock-icon">ğŸ“</a>
        <a href="/" class="dock-icon">ğŸ¬</a>
        <a href="/admin/" class="dock-icon">âš™ï¸</a>
        <a href="/" class="dock-icon">ğŸ—‘ï¸</a>
      </div>

    </div>
  </div>

  <script>
    function updateClock() {
      const now = new Date();
      let hours = now.getHours(); let minutes = now.getMinutes(); const ampm = hours >= 12 ? 'PM' : 'AM';
      hours = hours % 12; hours = hours ? hours : 12; minutes = minutes < 10 ? '0' + minutes : minutes;
      document.getElementById('system-clock').innerText = hours + ':' + minutes + ' ' + ampm;
    }
    setInterval(updateClock, 1000); updateClock();
  </script>

</body>
</html>
