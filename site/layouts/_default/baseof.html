<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ .Title }} | HANDOZ OS</title>
  
  <style>
    /* =========================================
       1. å…¨å±€èƒŒæ™¯
       ========================================= */
    body {
      margin: 0; padding: 0;
      font-family: "Lucida Grande", "Lucida Sans Unicode", Tahoma, sans-serif;
      /* å› ä¸ºä½ çš„å›¾ç‰‡è‡ªå¸¦é»‘è‰²èƒŒæ™¯ï¼Œè¿™é‡Œåº•è‰²è®¾ä¸ºçº¯é»‘å³å¯ */
      background-color: #000;
      height: 100vh; width: 100vw;
      display: flex; justify-content: center; align-items: center;
      overflow: hidden; /* ç¦æ­¢æ»šåŠ¨æ¡å‡ºç° */
    }

    /* =========================================
       2. ä¸»å®¹å™¨ (The Main Rig)
       ========================================= */
    .main-container {
      position: relative;
      /* é™åˆ¶æœ€å¤§å°ºå¯¸ï¼Œä¿æŒ4:3æ¯”ä¾‹ï¼Œé˜²æ­¢åœ¨å¤§å±ä¸Šæº¢å‡º */
      width: auto;
      height: 96vh; /* é«˜åº¦å æ»¡å±å¹•96%ï¼Œç•™ä¸€ç‚¹è¾¹ */
      aspect-ratio: 4 / 3; 
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* =========================================
       3. æ˜¾ç¤ºå™¨å¤–å£³ (æœ€ä¸Šå±‚é®ç½©)
       ========================================= */
    .monitor-overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: contain; /* ä¿è¯å›¾ç‰‡æŒ‰æ¯”ä¾‹å®Œæ•´æ˜¾ç¤º */
      z-index: 20; /* ç¡®ä¿å®ƒåœ¨æœ€ä¸Šå±‚ */
      pointer-events: none; /* è®©é¼ æ ‡ç‚¹å‡»èƒ½ç©¿é€å®ƒï¼Œç‚¹åˆ°å±å¹•é‡Œ */
    }

    /* =========================================
       4. å±å¹•å†…å®¹åŒºåŸŸ (è¢«å‹åœ¨ä¸‹é¢çš„ç½‘ç«™å†…å®¹)
       ========================================= */
    .screen-content {
      position: absolute;
      z-index: 10; /* æ”¾åœ¨é®ç½©ä¸‹é¢ */
      background-color: #000; /* å±å¹•åº•è‰² */
      overflow: hidden; /* åˆ‡æ‰è¶…å‡ºå±å¹•çš„å†…å®¹ */
      
      /* âš ï¸âš ï¸âš ï¸ æ ¸å¿ƒè°ƒè¯•åŒºï¼šæ ¡å‡†ä½ çš„å±å¹•ä½ç½® âš ï¸âš ï¸âš ï¸
         ä½ éœ€è¦æ ¹æ®ä½ æŠ å›¾çš„å®é™…ä½ç½®ï¼Œå¾®è°ƒä¸‹é¢è¿™å››ä¸ªæ•°å€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰ï¼Œ
         ç›´åˆ°ä½ çš„ç½‘ç«™ç”»é¢å®Œç¾åœ°â€œå¡â€è¿›æ˜¾ç¤ºå™¨çš„é€æ˜æ´é‡Œã€‚*/
      top: 10%;      /* è·ç¦»é¡¶éƒ¨è¾¹æ¡†çš„ä½ç½® */
      left: 10%;     /* è·ç¦»å·¦ä¾§è¾¹æ¡†çš„ä½ç½® */
      width: 80%;    /* å±å¹•æ˜¾ç¤ºåŒºåŸŸçš„å®½åº¦ */
      height: 80%;   /* å±å¹•æ˜¾ç¤ºåŒºåŸŸçš„é«˜åº¦ */
      
      /* ç¨å¾®åŠ ä¸€ç‚¹åœ†è§’ï¼Œé…åˆCRTå±å¹•çš„å¼§åº¦ */
      border-radius: 2% / 3%;
      
      /* åœ¨è¿™é‡ŒåŠ è½½ä½ çš„å£çº¸ */
      background-image: url('/img/wallpaper.jpg');
      background-size: cover;
      background-position: right bottom;

      /* å¢åŠ ä¸€ç‚¹å±å¹•å†…å‘å…‰å’Œæ‰«æçº¿æ•ˆæœï¼Œå¢åŠ çœŸå®æ„Ÿ */
      box-shadow: inset 0 0 30px rgba(0,0,0,0.6);
    }
    
    /* CRT æ‰«æçº¿çº¹ç†å±‚ */
    .screen-content::after {
      content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: repeating-linear-gradient(0deg, rgba(0,0,0,0.1) 0px, rgba(0,0,0,0.1) 1px, transparent 1px, transparent 3px);
      pointer-events: none; z-index: 30;
    }

    /* =========================================
       5. åŸæœ‰ Mac ç³»ç»Ÿå…ƒç´ çš„é€‚é…
       ========================================= */
    /* èœå•æ æ”¹ä¸ºç»å¯¹å®šä½ */
    .mac-menubar {
      position: absolute; top: 0; left: 0; width: 100%; height: 24px;
      background: linear-gradient(to bottom, #ffffff 0%, #eeeeee 100%);
      border-bottom: 1px solid #999;
      display: flex; justify-content: space-between; align-items: center;
      padding: 0 8px; font-size: 11px; user-select: none; z-index: 40;
    }
    .menubar-left { display: flex; gap: 8px; }
    .apple-logo { font-size: 13px; }

    /* æ¡Œé¢åŒºåŸŸé€‚é… */
    .desktop-area {
      margin-top: 24px;
      height: calc(100% - 24px);
      position: relative;
      z-index: 35;
    }

    /* Dock æ æ”¹ä¸ºç»å¯¹å®šä½ */
    .mac-dock-container {
      position: absolute; bottom: 0; left: 50%;
      transform: translateX(-50%) scale(0.85); /* ç¨å¾®ç¼©å°ä»¥é€‚åº”å±å¹• */
      background: rgba(255, 255, 255, 0.25);
      border: 1px solid rgba(255, 255, 255, 0.4);
      border-bottom: none; border-radius: 8px 8px 0 0;
      padding: 6px 12px 0 12px;
      display: flex; gap: 6px; align-items: flex-end;
      z-index: 50; /* ä¿è¯ Dock åœ¨æœ€å‰é¢ */
      -webkit-box-reflect: below 0px linear-gradient(transparent, transparent 60%, rgba(255,255,255,0.2));
    }
    .dock-icon {
      width: 48px; height: 48px; font-size: 24px;
      background: linear-gradient(to bottom, rgba(255,255,255,0.8), rgba(200,200,200,0.8));
      border-radius: 10px; display: flex; justify-content: center; align-items: center;
      transition: transform 0.2s cubic-bezier(0.2, 0.8, 0.2, 1), margin 0.2s;
    }
    .dock-icon:hover { transform: scale(1.5) translateY(-8px); margin: 0 10px; z-index: 100; }
  </style>
</head>
<body>

  <div class="main-container">
    
    <img src="/img/monitor.png" class="monitor-overlay" alt="Retro CRT">

    <div class="screen-content">
      
      <div class="mac-menubar">
        <div class="menubar-left">
          <span class="menubar-item apple-logo">ï£¿</span>
          <span class="menubar-item" style="font-weight:bold;">Finder</span>
          <span>File</span><span>Edit</span><span>View</span><span>Go</span>
        </div>
        <div class="menubar-right">
          <span id="system-clock">12:00 PM</span>
        </div>
      </div>

      <div class="desktop-area">
        {{ block "main" . }}{{ end }}
      </div>

      <div class="mac-dock-container">
        <a href="/" class="dock-icon">ğŸ“</a>
        <a href="/" class="dock-icon">ğŸ“</a>
        <a href="/" class="dock-icon">ğŸ¬</a>
        <a href="/admin/" class="dock-icon">âš™ï¸</a>
        <a href="/" class="dock-icon">ğŸ—‘ï¸</a>
      </div>

    </div>
  </div>

  <script>
    function updateClock() {
      const now = new Date();
      let hours = now.getHours(); let minutes = now.getMinutes(); const ampm = hours >= 12 ? 'PM' : 'AM';
      hours = hours % 12; hours = hours ? hours : 12; minutes = minutes < 10 ? '0' + minutes : minutes;
      document.getElementById('system-clock').innerText = hours + ':' + minutes + ' ' + ampm;
    }
    setInterval(updateClock, 1000); updateClock();
  </script>

</body>
</html>
